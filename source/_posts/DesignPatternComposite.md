---
layout: post
title: 设计模式：组合模式
date: 2019-5-22 18：06
category: 设计模式
tags: [设计模式]
description: 组合模式将对象组合成属性结构表示“部分-整体”的层次结构，组合模式使得用户对单个对象和组合对象的使用具有一致性。
---



### 组合模式[Composite]

​	**组合模式将对象组合成属性结构表示“部分-整体”的层次结构，组合模式使得用户对单个对象和组合对象的使用具有一致性。**组合模式有两种处理方式：

- **透明方式。**[透明方式实现组合模式代码实现模板](https://github.com/DepInjoy/BaseHouse/blob/master/DesignPattern/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E6%A8%A1%E6%9D%BF%E7%A4%BA%E4%BE%8B.cpp) 该模式下Compnent声明了用于管理子类对象的方法(如add、remove等)，这样使得叶节点和枝节点对于外界没有区别，他们有一致的行为接口，同时Leaf并不具备add、remove行为，因而它的实现没有任何意义。
- **安全方式**。Compnent不声明add、remove等方法，叶节点也就无须实现这些方法，而是在Composite声明所有的管理子类对象的方法。这样叶节点和枝节点不具备完全相同的接口，导致客户端调用时需要做相应的判断，这给调用带来了不便。



#### 优点

- 使得客户可以统一使用组合结构和单一对象。

#### 使用场景

- 需求是实现部分与整体层次结构，同时用户希望忽略组合对象和单一对象的不同，统一使用组合结构中的对象。